# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: `ecrecover` is susceptible to signature malleability](#l-2-ecrecover-is-susceptible-to-signature-malleability)
  - [L-3: Deprecated OpenZeppelin functions should not be used](#l-3-deprecated-openzeppelin-functions-should-not-be-used)
  - [L-4: Unsafe ERC20 Operations should not be used](#l-4-unsafe-erc20-operations-should-not-be-used)
  - [L-5: Solidity pragma should be specific, not wide](#l-5-solidity-pragma-should-be-specific-not-wide)
  - [L-6: Missing checks for `address(0)` when assigning values to address state variables](#l-6-missing-checks-for-address0-when-assigning-values-to-address-state-variables)
  - [L-7: `public` functions not used internally could be marked `external`](#l-7-public-functions-not-used-internally-could-be-marked-external)
  - [L-8: Define and use `constant` variables instead of using literals](#l-8-define-and-use-constant-variables-instead-of-using-literals)
  - [L-9: Event is missing `indexed` fields](#l-9-event-is-missing-indexed-fields)
  - [L-10: Empty `require()` / `revert()` statements](#l-10-empty-require--revert-statements)
  - [L-11: PUSH0 is not supported by all chains](#l-11-push0-is-not-supported-by-all-chains)
  - [L-12: Loop contains `require`/`revert` statements](#l-12-loop-contains-requirerevert-statements)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 12 |
| Total nSLOC | 1540 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/AAMintPass.sol | 95 |
| src/AiArenaHelper.sol | 107 |
| src/FighterFarm.sol | 327 |
| src/FighterOps.sol | 74 |
| src/FixedPointMathLib.sol | 142 |
| src/GameItems.sol | 163 |
| src/MergingPool.sol | 110 |
| src/Neuron.sol | 88 |
| src/RankedBattle.sol | 300 |
| src/StakeAtRisk.sol | 62 |
| src/Verification.sol | 25 |
| src/VoltageManager.sol | 47 |
| **Total** | **1540** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 0 |
| Low | 12 |


# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>1 Found Instances</summary>


- Found in src/Neuron.sol [Line: 11](src/Neuron.sol#L11)

	```solidity
	contract Neuron is ERC20, AccessControl {
	```

</details>



## L-2: `ecrecover` is susceptible to signature malleability

The `ecrecover` function is susceptible to signature malleability. This means that the same message can be signed in multiple ways, allowing an attacker to change the message signature without invalidating it. This can lead to unexpected behavior in smart contracts, such as the loss of funds or the ability to bypass access control. Consider using OpenZeppelin's ECDSA library instead of the built-in function.

<details><summary>1 Found Instances</summary>


- Found in src/Verification.sol [Line: 40](src/Verification.sol#L40)

	```solidity
	        return ecrecover(prefixedHash, v, r, s) == signer;
	```

</details>



## L-3: Deprecated OpenZeppelin functions should not be used

Openzeppelin has deprecated several functions and replaced with newer versions. Please consult https://docs.openzeppelin.com/

<details><summary>3 Found Instances</summary>


- Found in src/Neuron.sol [Line: 95](src/Neuron.sol#L95)

	```solidity
	        _setupRole(MINTER_ROLE, newMinterAddress);
	```

- Found in src/Neuron.sol [Line: 103](src/Neuron.sol#L103)

	```solidity
	        _setupRole(STAKER_ROLE, newStakerAddress);
	```

- Found in src/Neuron.sol [Line: 111](src/Neuron.sol#L111)

	```solidity
	        _setupRole(SPENDER_ROLE, newSpenderAddress);
	```

</details>



## L-4: Unsafe ERC20 Operations should not be used

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>7 Found Instances</summary>


- Found in src/FighterFarm.sol [Line: 376](src/FighterFarm.sol#L376)

	```solidity
	        bool success = _neuronInstance.transferFrom(msg.sender, treasuryAddress, rerollCost);
	```

- Found in src/GameItems.sol [Line: 164](src/GameItems.sol#L164)

	```solidity
	        bool success = _neuronInstance.transferFrom(msg.sender, treasuryAddress, price);
	```

- Found in src/RankedBattle.sol [Line: 251](src/RankedBattle.sol#L251)

	```solidity
	        bool success = _neuronInstance.transferFrom(msg.sender, address(this), amount);
	```

- Found in src/RankedBattle.sol [Line: 283](src/RankedBattle.sol#L283)

	```solidity
	        bool success = _neuronInstance.transfer(msg.sender, amount);
	```

- Found in src/RankedBattle.sol [Line: 493](src/RankedBattle.sol#L493)

	```solidity
	                bool success = _neuronInstance.transfer(_stakeAtRiskAddress, curStakeAtRisk);
	```

- Found in src/StakeAtRisk.sol [Line: 100](src/StakeAtRisk.sol#L100)

	```solidity
	        bool success = _neuronInstance.transfer(_rankedBattleAddress, nrnToReclaim);
	```

- Found in src/StakeAtRisk.sol [Line: 143](src/StakeAtRisk.sol#L143)

	```solidity
	        return _neuronInstance.transfer(treasuryAddress, totalStakeAtRisk[roundId]);
	```

</details>



## L-5: Solidity pragma should be specific, not wide

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>12 Found Instances</summary>


- Found in src/AAMintPass.sol [Line: 2](src/AAMintPass.sol#L2)

	```solidity
	pragma solidity ^0.8.13;
	```

- Found in src/AiArenaHelper.sol [Line: 3](src/AiArenaHelper.sol#L3)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FighterFarm.sol [Line: 2](src/FighterFarm.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FighterOps.sol [Line: 2](src/FighterOps.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FixedPointMathLib.sol [Line: 2](src/FixedPointMathLib.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/GameItems.sol [Line: 2](src/GameItems.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/MergingPool.sol [Line: 2](src/MergingPool.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/Neuron.sol [Line: 2](src/Neuron.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/RankedBattle.sol [Line: 2](src/RankedBattle.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/StakeAtRisk.sol [Line: 2](src/StakeAtRisk.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/Verification.sol [Line: 2](src/Verification.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/VoltageManager.sol [Line: 2](src/VoltageManager.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

</details>



## L-6: Missing checks for `address(0)` when assigning values to address state variables

Check for `address(0)` when assigning values to address state variables.

<details><summary>55 Found Instances</summary>


- Found in src/AAMintPass.sol [Line: 47](src/AAMintPass.sol#L47)

	```solidity
	        delegatedAddress = _delegatedAddress;
	```

- Found in src/AAMintPass.sol [Line: 48](src/AAMintPass.sol#L48)

	```solidity
	        founderAddress = _founderAddress;
	```

- Found in src/AAMintPass.sol [Line: 58](src/AAMintPass.sol#L58)

	```solidity
	        founderAddress = _newFounderAddress;
	```

- Found in src/AAMintPass.sol [Line: 81](src/AAMintPass.sol#L81)

	```solidity
	        fighterFarmContractAddress = _fighterFarmAddress;
	```

- Found in src/AAMintPass.sol [Line: 88](src/AAMintPass.sol#L88)

	```solidity
	        delegatedAddress = _delegatedAddress;
	```

- Found in src/AAMintPass.sol [Line: 128](src/AAMintPass.sol#L128)

	```solidity
	        passesClaimed[msg.sender][0] += numToMint[0];
	```

- Found in src/AAMintPass.sol [Line: 129](src/AAMintPass.sol#L129)

	```solidity
	        passesClaimed[msg.sender][1] += numToMint[1];
	```

- Found in src/AiArenaHelper.sol [Line: 63](src/AiArenaHelper.sol#L63)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/FighterFarm.sol [Line: 107](src/FighterFarm.sol#L107)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/FighterFarm.sol [Line: 108](src/FighterFarm.sol#L108)

	```solidity
	        _delegatedAddress = delegatedAddress;
	```

- Found in src/FighterFarm.sol [Line: 109](src/FighterFarm.sol#L109)

	```solidity
	        treasuryAddress = treasuryAddress_;
	```

- Found in src/FighterFarm.sol [Line: 122](src/FighterFarm.sol#L122)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/FighterFarm.sol [Line: 149](src/FighterFarm.sol#L149)

	```solidity
	        _aiArenaHelperInstance = AiArenaHelper(aiArenaHelperAddress);
	```

- Found in src/FighterFarm.sol [Line: 157](src/FighterFarm.sol#L157)

	```solidity
	        _mintpassInstance = AAMintPass(mintpassAddress);
	```

- Found in src/FighterFarm.sol [Line: 165](src/FighterFarm.sol#L165)

	```solidity
	        _neuronInstance = Neuron(neuronAddress);
	```

- Found in src/FighterFarm.sol [Line: 173](src/FighterFarm.sol#L173)

	```solidity
	        _mergingPoolAddress = mergingPoolAddress;
	```

- Found in src/FighterFarm.sol [Line: 209](src/FighterFarm.sol#L209)

	```solidity
	        nftsClaimed[msg.sender][0] += numToMint[0];
	```

- Found in src/FighterFarm.sol [Line: 210](src/FighterFarm.sol#L210)

	```solidity
	        nftsClaimed[msg.sender][1] += numToMint[1];
	```

- Found in src/GameItems.sol [Line: 96](src/GameItems.sol#L96)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/GameItems.sol [Line: 97](src/GameItems.sol#L97)

	```solidity
	        treasuryAddress = treasuryAddress_;
	```

- Found in src/GameItems.sol [Line: 110](src/GameItems.sol#L110)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/GameItems.sol [Line: 119](src/GameItems.sol#L119)

	```solidity
	        isAdmin[adminAddress] = access;
	```

- Found in src/GameItems.sol [Line: 141](src/GameItems.sol#L141)

	```solidity
	        _neuronInstance = Neuron(nrnAddress);
	```

- Found in src/GameItems.sol [Line: 169](src/GameItems.sol#L169)

	```solidity
	            allowanceRemaining[msg.sender][tokenId] -= quantity;
	```

- Found in src/GameItems.sol [Line: 313](src/GameItems.sol#L313)

	```solidity
	        allowanceRemaining[msg.sender][tokenId] = allGameItemAttributes[tokenId].dailyAllowance;
	```

- Found in src/MergingPool.sol [Line: 76](src/MergingPool.sol#L76)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/MergingPool.sol [Line: 77](src/MergingPool.sol#L77)

	```solidity
	        _rankedBattleAddress = rankedBattleAddress;
	```

- Found in src/MergingPool.sol [Line: 78](src/MergingPool.sol#L78)

	```solidity
	        _fighterFarmInstance = FighterFarm(fighterFarmAddress);
	```

- Found in src/MergingPool.sol [Line: 91](src/MergingPool.sol#L91)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/MergingPool.sol [Line: 100](src/MergingPool.sol#L100)

	```solidity
	        isAdmin[adminAddress] = access;
	```

- Found in src/Neuron.sol [Line: 71](src/Neuron.sol#L71)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/Neuron.sol [Line: 72](src/Neuron.sol#L72)

	```solidity
	        treasuryAddress = treasuryAddress_;
	```

- Found in src/Neuron.sol [Line: 87](src/Neuron.sol#L87)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/Neuron.sol [Line: 120](src/Neuron.sol#L120)

	```solidity
	        isAdmin[adminAddress] = access;
	```

- Found in src/RankedBattle.sol [Line: 152](src/RankedBattle.sol#L152)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/RankedBattle.sol [Line: 153](src/RankedBattle.sol#L153)

	```solidity
	        _gameServerAddress = gameServerAddress;
	```

- Found in src/RankedBattle.sol [Line: 154](src/RankedBattle.sol#L154)

	```solidity
	        _fighterFarmInstance = FighterFarm(fighterFarmAddress);
	```

- Found in src/RankedBattle.sol [Line: 155](src/RankedBattle.sol#L155)

	```solidity
	        _voltageManagerInstance = VoltageManager(voltageManagerAddress);
	```

- Found in src/RankedBattle.sol [Line: 169](src/RankedBattle.sol#L169)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/RankedBattle.sol [Line: 178](src/RankedBattle.sol#L178)

	```solidity
	        isAdmin[adminAddress] = access;
	```

- Found in src/RankedBattle.sol [Line: 186](src/RankedBattle.sol#L186)

	```solidity
	        _gameServerAddress = gameServerAddress;
	```

- Found in src/RankedBattle.sol [Line: 194](src/RankedBattle.sol#L194)

	```solidity
	        _stakeAtRiskAddress = stakeAtRiskAddress;
	```

- Found in src/RankedBattle.sol [Line: 203](src/RankedBattle.sol#L203)

	```solidity
	        _neuronInstance = Neuron(nrnAddress);
	```

- Found in src/RankedBattle.sol [Line: 211](src/RankedBattle.sol#L211)

	```solidity
	        _mergingPoolInstance = MergingPool(mergingPoolAddress);
	```

- Found in src/StakeAtRisk.sol [Line: 65](src/StakeAtRisk.sol#L65)

	```solidity
	        treasuryAddress = treasuryAddress_;
	```

- Found in src/StakeAtRisk.sol [Line: 66](src/StakeAtRisk.sol#L66)

	```solidity
	        _rankedBattleAddress = rankedBattleAddress;   
	```

- Found in src/StakeAtRisk.sol [Line: 67](src/StakeAtRisk.sol#L67)

	```solidity
	        _neuronInstance = Neuron(nrnAddress);
	```

- Found in src/StakeAtRisk.sol [Line: 104](src/StakeAtRisk.sol#L104)

	```solidity
	            amountLost[fighterOwner] -= nrnToReclaim;
	```

- Found in src/StakeAtRisk.sol [Line: 125](src/StakeAtRisk.sol#L125)

	```solidity
	        amountLost[fighterOwner] += nrnToPlaceAtRisk;
	```

- Found in src/VoltageManager.sol [Line: 52](src/VoltageManager.sol#L52)

	```solidity
	        _ownerAddress = ownerAddress;
	```

- Found in src/VoltageManager.sol [Line: 53](src/VoltageManager.sol#L53)

	```solidity
	        _gameItemsContractInstance = GameItems(gameItemsContractAddress);
	```

- Found in src/VoltageManager.sol [Line: 66](src/VoltageManager.sol#L66)

	```solidity
	        _ownerAddress = newOwnerAddress;
	```

- Found in src/VoltageManager.sol [Line: 75](src/VoltageManager.sol#L75)

	```solidity
	        isAdmin[adminAddress] = access;
	```

- Found in src/VoltageManager.sol [Line: 84](src/VoltageManager.sol#L84)

	```solidity
	        allowedVoltageSpenders[allowedVoltageSpender] = allowed;
	```

- Found in src/VoltageManager.sol [Line: 110](src/VoltageManager.sol#L110)

	```solidity
	        ownerVoltage[spender] -= voltageSpent;
	```

</details>



## L-7: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

<details><summary>35 Found Instances</summary>


- Found in src/AAMintPass.sol [Line: 137](src/AAMintPass.sol#L137)

	```solidity
	    function burn(uint256 _tokenId) public override {
	```

- Found in src/AAMintPass.sol [Line: 145](src/AAMintPass.sol#L145)

	```solidity
	    function totalSupply() public view returns (uint256) {
	```

- Found in src/AAMintPass.sol [Line: 150](src/AAMintPass.sol#L150)

	```solidity
	    function contractURI() public pure returns (string memory) {
	```

- Found in src/AAMintPass.sol [Line: 156](src/AAMintPass.sol#L156)

	```solidity
	    function tokenURI(uint256 _tokenId) public view override(ERC721) returns (string memory) {
	```

- Found in src/AiArenaHelper.sol [Line: 144](src/AiArenaHelper.sol#L144)

	```solidity
	    function deleteAttributeProbabilities(uint8 generation) public {
	```

- Found in src/FighterFarm.sol [Line: 313](src/FighterFarm.sol#L313)

	```solidity
	    function mintFromMergingPool(
	```

- Found in src/FighterFarm.sol [Line: 338](src/FighterFarm.sol#L338)

	```solidity
	    function transferFrom(
	```

- Found in src/FighterFarm.sol [Line: 355](src/FighterFarm.sol#L355)

	```solidity
	    function safeTransferFrom(
	```

- Found in src/FighterFarm.sol [Line: 370](src/FighterFarm.sol#L370)

	```solidity
	    function reRoll(uint8 tokenId, uint8 fighterType) public {
	```

- Found in src/FighterFarm.sol [Line: 395](src/FighterFarm.sol#L395)

	```solidity
	    function contractURI() public pure returns (string memory) {
	```

- Found in src/FighterFarm.sol [Line: 402](src/FighterFarm.sol#L402)

	```solidity
	    function tokenURI(uint256 tokenId) public view override(ERC721) returns (string memory) {
	```

- Found in src/FighterFarm.sol [Line: 410](src/FighterFarm.sol#L410)

	```solidity
	    function supportsInterface(bytes4 _interfaceId)
	```

- Found in src/FighterFarm.sol [Line: 421](src/FighterFarm.sol#L421)

	```solidity
	    function getAllFighterInfo(
	```

- Found in src/FighterOps.sol [Line: 53](src/FighterOps.sol#L53)

	```solidity
	    function fighterCreatedEmitter(
	```

- Found in src/FighterOps.sol [Line: 79](src/FighterOps.sol#L79)

	```solidity
	    function viewFighterInfo(
	```

- Found in src/GameItems.sol [Line: 185](src/GameItems.sol#L185)

	```solidity
	    function setAllowedBurningAddresses(address newBurningAddress) public {
	```

- Found in src/GameItems.sol [Line: 208](src/GameItems.sol#L208)

	```solidity
	    function createGameItem(
	```

- Found in src/GameItems.sol [Line: 242](src/GameItems.sol#L242)

	```solidity
	    function burn(address account, uint256 tokenId, uint256 amount) public {
	```

- Found in src/GameItems.sol [Line: 249](src/GameItems.sol#L249)

	```solidity
	    function contractURI() public pure returns (string memory) {
	```

- Found in src/GameItems.sol [Line: 256](src/GameItems.sol#L256)

	```solidity
	    function uri(uint256 tokenId) public view override returns (string memory) {
	```

- Found in src/GameItems.sol [Line: 268](src/GameItems.sol#L268)

	```solidity
	    function getAllowanceRemaining(address owner, uint256 tokenId) public view returns (uint256) {
	```

- Found in src/GameItems.sol [Line: 279](src/GameItems.sol#L279)

	```solidity
	    function remainingSupply(uint256 tokenId) public view returns (uint256) {
	```

- Found in src/GameItems.sol [Line: 285](src/GameItems.sol#L285)

	```solidity
	    function uniqueTokensOutstanding() public view returns (uint256) {
	```

- Found in src/GameItems.sol [Line: 291](src/GameItems.sol#L291)

	```solidity
	    function safeTransferFrom(
	```

- Found in src/MergingPool.sol [Line: 195](src/MergingPool.sol#L195)

	```solidity
	    function addPoints(uint256 tokenId, uint256 points) public {
	```

- Found in src/MergingPool.sol [Line: 205](src/MergingPool.sol#L205)

	```solidity
	    function getFighterPoints(uint256 maxId) public view returns(uint256[] memory) {
	```

- Found in src/Neuron.sol [Line: 155](src/Neuron.sol#L155)

	```solidity
	    function mint(address to, uint256 amount) public virtual {
	```

- Found in src/Neuron.sol [Line: 163](src/Neuron.sol#L163)

	```solidity
	    function burn(uint256 amount) public virtual {
	```

- Found in src/Neuron.sol [Line: 171](src/Neuron.sol#L171)

	```solidity
	    function approveSpender(address account, uint256 amount) public {
	```

- Found in src/Neuron.sol [Line: 184](src/Neuron.sol#L184)

	```solidity
	    function approveStaker(address owner, address spender, uint256 amount) public {
	```

- Found in src/Neuron.sol [Line: 196](src/Neuron.sol#L196)

	```solidity
	    function burnFrom(address account, uint256 amount) public virtual {
	```

- Found in src/RankedBattle.sol [Line: 386](src/RankedBattle.sol#L386)

	```solidity
	    function getUnclaimedNRN(address claimer) public view returns(uint256) {
	```

- Found in src/Verification.sol [Line: 6](src/Verification.sol#L6)

	```solidity
	    function verify(
	```

- Found in src/VoltageManager.sol [Line: 93](src/VoltageManager.sol#L93)

	```solidity
	    function useVoltageBattery() public {
	```

- Found in src/VoltageManager.sol [Line: 105](src/VoltageManager.sol#L105)

	```solidity
	    function spendVoltage(address spender, uint8 voltageSpent) public {
	```

</details>



## L-8: Define and use `constant` variables instead of using literals

If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>25 Found Instances</summary>


- Found in src/AiArenaHelper.sol [Line: 94](src/AiArenaHelper.sol#L94)

	```solidity
	            return FighterOps.FighterPhysicalAttributes(99, 99, 99, 99, 99, 99);
	```

- Found in src/FighterFarm.sol [Line: 219](src/FighterFarm.sol#L219)

	```solidity
	                [uint256(100), uint256(100)]
	```

- Found in src/FighterFarm.sol [Line: 259](src/FighterFarm.sol#L259)

	```solidity
	                [uint256(100), uint256(100)]
	```

- Found in src/FighterFarm.sol [Line: 499](src/FighterFarm.sol#L499)

	```solidity
	        if (customAttributes[0] == 100) {
	```

- Found in src/FighterOps.sol [Line: 67](src/FighterOps.sol#L67)

	```solidity
	    function getFighterAttributes(Fighter storage self) public view returns (uint256[6] memory) {
	```

- Found in src/FighterOps.sol [Line: 87](src/FighterOps.sol#L87)

	```solidity
	            uint256[6] memory,
	```

- Found in src/RankedBattle.sol [Line: 157](src/RankedBattle.sol#L157)

	```solidity
	        rankedNrnDistribution[0] = 5000 * 10**18;
	```

- Found in src/RankedBattle.sol [Line: 220](src/RankedBattle.sol#L220)

	```solidity
	        rankedNrnDistribution[roundId] = newDistribution * 10**18;
	```

- Found in src/RankedBattle.sol [Line: 332](src/RankedBattle.sol#L332)

	```solidity
	        require(mergingPortion <= 100);
	```

- Found in src/RankedBattle.sol [Line: 439](src/RankedBattle.sol#L439)

	```solidity
	        curStakeAtRisk = (bpsLostPerLoss * (amountStaked[tokenId] + stakeAtRisk)) / 10**4;
	```

- Found in src/RankedBattle.sol [Line: 449](src/RankedBattle.sol#L449)

	```solidity
	            uint256 mergingPoints = (points * mergingPortion) / 100;
	```

- Found in src/RankedBattle.sol [Line: 528](src/RankedBattle.sol#L528)

	```solidity
	          (amountStaked[tokenId] + stakeAtRisk) / 10**18
	```

- Found in src/VoltageManager.sol [Line: 94](src/VoltageManager.sol#L94)

	```solidity
	        require(ownerVoltage[msg.sender] < 100);
	```

- Found in src/VoltageManager.sol [Line: 97](src/VoltageManager.sol#L97)

	```solidity
	        ownerVoltage[msg.sender] = 100;
	```

- Found in src/VoltageManager.sol [Line: 118](src/VoltageManager.sol#L118)

	```solidity
	        ownerVoltage[owner] = 100;
	```

</details>



## L-9: Event is missing `indexed` fields

Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details><summary>17 Found Instances</summary>


- Found in src/FighterFarm.sol [Line: 23](src/FighterFarm.sol#L23)

	```solidity
	    event Locked(uint256 tokenId);
	```

- Found in src/FighterFarm.sol [Line: 26](src/FighterFarm.sol#L26)

	```solidity
	    event Unlocked(uint256 tokenId);
	```

- Found in src/FighterOps.sol [Line: 14](src/FighterOps.sol#L14)

	```solidity
	    event FighterCreated(
	```

- Found in src/GameItems.sol [Line: 20](src/GameItems.sol#L20)

	```solidity
	    event BoughtItem(address buyer, uint256 tokenId, uint256 quantity);
	```

- Found in src/GameItems.sol [Line: 24](src/GameItems.sol#L24)

	```solidity
	    event Locked(uint256 tokenId);
	```

- Found in src/GameItems.sol [Line: 28](src/GameItems.sol#L28)

	```solidity
	    event Unlocked(uint256 tokenId);
	```

- Found in src/MergingPool.sol [Line: 16](src/MergingPool.sol#L16)

	```solidity
	    event PointsAdded(uint256 tokenId, uint256 points);
	```

- Found in src/MergingPool.sol [Line: 19](src/MergingPool.sol#L19)

	```solidity
	    event Claimed(address claimer, uint32 amount);
	```

- Found in src/Neuron.sol [Line: 18](src/Neuron.sol#L18)

	```solidity
	    event TokensClaimed(address user, uint256 amount);
	```

- Found in src/Neuron.sol [Line: 21](src/Neuron.sol#L21)

	```solidity
	    event TokensMinted(address user, uint256 amount);    
	```

- Found in src/RankedBattle.sol [Line: 26](src/RankedBattle.sol#L26)

	```solidity
	    event Staked(address from, uint256 amount);
	```

- Found in src/RankedBattle.sol [Line: 29](src/RankedBattle.sol#L29)

	```solidity
	    event Unstaked(address from, uint256 amount);
	```

- Found in src/RankedBattle.sol [Line: 32](src/RankedBattle.sol#L32)

	```solidity
	    event Claimed(address claimer, uint256 amount);
	```

- Found in src/RankedBattle.sol [Line: 35](src/RankedBattle.sol#L35)

	```solidity
	    event PointsChanged(uint256 tokenId, uint256 points, bool increased);    
	```

- Found in src/StakeAtRisk.sol [Line: 17](src/StakeAtRisk.sol#L17)

	```solidity
	    event ReclaimedStake(uint256 fighterId, uint256 reclaimAmount);
	```

- Found in src/StakeAtRisk.sol [Line: 20](src/StakeAtRisk.sol#L20)

	```solidity
	    event IncreasedStakeAtRisk(uint256 fighterId, uint256 atRiskAmount);
	```

- Found in src/VoltageManager.sol [Line: 16](src/VoltageManager.sol#L16)

	```solidity
	    event VoltageRemaining(address spender, uint8 voltage);  
	```

</details>



## L-10: Empty `require()` / `revert()` statements

Use descriptive reason strings or custom errors for revert paths.

<details><summary>77 Found Instances</summary>


- Found in src/AAMintPass.sol [Line: 56](src/AAMintPass.sol#L56)

	```solidity
	        require(msg.sender == founderAddress);
	```

- Found in src/AAMintPass.sol [Line: 66](src/AAMintPass.sol#L66)

	```solidity
	        require(msg.sender == founderAddress);
	```

- Found in src/AAMintPass.sol [Line: 73](src/AAMintPass.sol#L73)

	```solidity
	        require(msg.sender == founderAddress);
	```

- Found in src/AAMintPass.sol [Line: 80](src/AAMintPass.sol#L80)

	```solidity
	        require(msg.sender == founderAddress);
	```

- Found in src/AAMintPass.sol [Line: 87](src/AAMintPass.sol#L87)

	```solidity
	        require(msg.sender == founderAddress);
	```

- Found in src/AAMintPass.sol [Line: 94](src/AAMintPass.sol#L94)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/AAMintPass.sol [Line: 116](src/AAMintPass.sol#L116)

	```solidity
	        require(!mintingPaused);
	```

- Found in src/AAMintPass.sol [Line: 125](src/AAMintPass.sol#L125)

	```solidity
	        require(Verification.verify(msgHash, signature, delegatedAddress));
	```

- Found in src/AAMintPass.sol [Line: 127](src/AAMintPass.sol#L127)

	```solidity
	        require(_tokenURIs.length == totalToMint);
	```

- Found in src/AAMintPass.sol [Line: 138](src/AAMintPass.sol#L138)

	```solidity
	        require(msg.sender == fighterFarmContractAddress || msg.sender == ownerOf(_tokenId));
	```

- Found in src/AiArenaHelper.sol [Line: 62](src/AiArenaHelper.sol#L62)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/AiArenaHelper.sol [Line: 69](src/AiArenaHelper.sol#L69)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/AiArenaHelper.sol [Line: 70](src/AiArenaHelper.sol#L70)

	```solidity
	        require(attributeDivisors.length == attributes.length);
	```

- Found in src/AiArenaHelper.sol [Line: 132](src/AiArenaHelper.sol#L132)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/AiArenaHelper.sol [Line: 145](src/AiArenaHelper.sol#L145)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 121](src/FighterFarm.sol#L121)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 130](src/FighterFarm.sol#L130)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 140](src/FighterFarm.sol#L140)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 148](src/FighterFarm.sol#L148)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 156](src/FighterFarm.sol#L156)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 164](src/FighterFarm.sol#L164)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 172](src/FighterFarm.sol#L172)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/FighterFarm.sol [Line: 181](src/FighterFarm.sol#L181)

	```solidity
	        require(msg.sender == _delegatedAddress);
	```

- Found in src/FighterFarm.sol [Line: 206](src/FighterFarm.sol#L206)

	```solidity
	        require(Verification.verify(msgHash, signature, _delegatedAddress));
	```

- Found in src/FighterFarm.sol [Line: 208](src/FighterFarm.sol#L208)

	```solidity
	        require(modelHashes.length == totalToMint && modelTypes.length == totalToMint);
	```

- Found in src/FighterFarm.sol [Line: 243](src/FighterFarm.sol#L243)

	```solidity
	        require(
	```

- Found in src/FighterFarm.sol [Line: 250](src/FighterFarm.sol#L250)

	```solidity
	            require(msg.sender == _mintpassInstance.ownerOf(mintpassIdsToBurn[i]));
	```

- Found in src/FighterFarm.sol [Line: 269](src/FighterFarm.sol#L269)

	```solidity
	        require(hasStakerRole[msg.sender]);
	```

- Found in src/FighterFarm.sol [Line: 290](src/FighterFarm.sol#L290)

	```solidity
	        require(msg.sender == ownerOf(tokenId));
	```

- Found in src/FighterFarm.sol [Line: 321](src/FighterFarm.sol#L321)

	```solidity
	        require(msg.sender == _mergingPoolAddress);
	```

- Found in src/FighterFarm.sol [Line: 346](src/FighterFarm.sol#L346)

	```solidity
	        require(_ableToTransfer(tokenId, to));
	```

- Found in src/FighterFarm.sol [Line: 363](src/FighterFarm.sol#L363)

	```solidity
	        require(_ableToTransfer(tokenId, to));
	```

- Found in src/FighterFarm.sol [Line: 371](src/FighterFarm.sol#L371)

	```solidity
	        require(msg.sender == ownerOf(tokenId));
	```

- Found in src/FighterFarm.sol [Line: 372](src/FighterFarm.sol#L372)

	```solidity
	        require(numRerolls[tokenId] < maxRerollsAllowed[fighterType]);
	```

- Found in src/FighterFarm.sol [Line: 495](src/FighterFarm.sol#L495)

	```solidity
	        require(balanceOf(to) < MAX_FIGHTERS_ALLOWED);
	```

- Found in src/GameItems.sol [Line: 109](src/GameItems.sol#L109)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/GameItems.sol [Line: 118](src/GameItems.sol#L118)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/GameItems.sol [Line: 127](src/GameItems.sol#L127)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/GameItems.sol [Line: 140](src/GameItems.sol#L140)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/GameItems.sol [Line: 148](src/GameItems.sol#L148)

	```solidity
	        require(tokenId < _itemCount);
	```

- Found in src/GameItems.sol [Line: 151](src/GameItems.sol#L151)

	```solidity
	        require(
	```

- Found in src/GameItems.sol [Line: 158](src/GameItems.sol#L158)

	```solidity
	        require(
	```

- Found in src/GameItems.sol [Line: 186](src/GameItems.sol#L186)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/GameItems.sol [Line: 195](src/GameItems.sol#L195)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/GameItems.sol [Line: 219](src/GameItems.sol#L219)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/GameItems.sol [Line: 243](src/GameItems.sol#L243)

	```solidity
	        require(allowedBurningAddresses[msg.sender]);
	```

- Found in src/GameItems.sol [Line: 301](src/GameItems.sol#L301)

	```solidity
	        require(allGameItemAttributes[tokenId].transferable);
	```

- Found in src/MergingPool.sol [Line: 90](src/MergingPool.sol#L90)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/MergingPool.sol [Line: 99](src/MergingPool.sol#L99)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/MergingPool.sol [Line: 107](src/MergingPool.sol#L107)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/MergingPool.sol [Line: 119](src/MergingPool.sol#L119)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/Neuron.sol [Line: 86](src/Neuron.sol#L86)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/Neuron.sol [Line: 94](src/Neuron.sol#L94)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/Neuron.sol [Line: 102](src/Neuron.sol#L102)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/Neuron.sol [Line: 110](src/Neuron.sol#L110)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/Neuron.sol [Line: 119](src/Neuron.sol#L119)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/Neuron.sol [Line: 128](src/Neuron.sol#L128)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/Neuron.sol [Line: 129](src/Neuron.sol#L129)

	```solidity
	        require(recipients.length == amounts.length);
	```

- Found in src/RankedBattle.sol [Line: 168](src/RankedBattle.sol#L168)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 177](src/RankedBattle.sol#L177)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 185](src/RankedBattle.sol#L185)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 193](src/RankedBattle.sol#L193)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 202](src/RankedBattle.sol#L202)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 210](src/RankedBattle.sol#L210)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/RankedBattle.sol [Line: 219](src/RankedBattle.sol#L219)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/RankedBattle.sol [Line: 227](src/RankedBattle.sol#L227)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/RankedBattle.sol [Line: 234](src/RankedBattle.sol#L234)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/RankedBattle.sol [Line: 235](src/RankedBattle.sol#L235)

	```solidity
	        require(totalAccumulatedPoints[roundId] > 0);
	```

- Found in src/RankedBattle.sol [Line: 331](src/RankedBattle.sol#L331)

	```solidity
	        require(msg.sender == _gameServerAddress);
	```

- Found in src/RankedBattle.sol [Line: 332](src/RankedBattle.sol#L332)

	```solidity
	        require(mergingPortion <= 100);
	```

- Found in src/RankedBattle.sol [Line: 334](src/RankedBattle.sol#L334)

	```solidity
	        require(
	```

- Found in src/VoltageManager.sol [Line: 65](src/VoltageManager.sol#L65)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/VoltageManager.sol [Line: 74](src/VoltageManager.sol#L74)

	```solidity
	        require(msg.sender == _ownerAddress);
	```

- Found in src/VoltageManager.sol [Line: 83](src/VoltageManager.sol#L83)

	```solidity
	        require(isAdmin[msg.sender]);
	```

- Found in src/VoltageManager.sol [Line: 94](src/VoltageManager.sol#L94)

	```solidity
	        require(ownerVoltage[msg.sender] < 100);
	```

- Found in src/VoltageManager.sol [Line: 95](src/VoltageManager.sol#L95)

	```solidity
	        require(_gameItemsContractInstance.balanceOf(msg.sender, 0) > 0);
	```

- Found in src/VoltageManager.sol [Line: 106](src/VoltageManager.sol#L106)

	```solidity
	        require(spender == msg.sender || allowedVoltageSpenders[msg.sender]);
	```

</details>



## L-11: PUSH0 is not supported by all chains

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>12 Found Instances</summary>


- Found in src/AAMintPass.sol [Line: 2](src/AAMintPass.sol#L2)

	```solidity
	pragma solidity ^0.8.13;
	```

- Found in src/AiArenaHelper.sol [Line: 3](src/AiArenaHelper.sol#L3)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FighterFarm.sol [Line: 2](src/FighterFarm.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FighterOps.sol [Line: 2](src/FighterOps.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/FixedPointMathLib.sol [Line: 2](src/FixedPointMathLib.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/GameItems.sol [Line: 2](src/GameItems.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/MergingPool.sol [Line: 2](src/MergingPool.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/Neuron.sol [Line: 2](src/Neuron.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/RankedBattle.sol [Line: 2](src/RankedBattle.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/StakeAtRisk.sol [Line: 2](src/StakeAtRisk.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/Verification.sol [Line: 2](src/Verification.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

- Found in src/VoltageManager.sol [Line: 2](src/VoltageManager.sol#L2)

	```solidity
	pragma solidity >=0.8.0 <0.9.0;
	```

</details>



## L-12: Loop contains `require`/`revert` statements

Avoid `require` / `revert` statements in a loop because a single bad item can cause the whole transaction to fail. It's better to forgive on fail and return failed elements post processing of the loop

<details><summary>1 Found Instances</summary>


- Found in src/FighterFarm.sol [Line: 249](src/FighterFarm.sol#L249)

	```solidity
	        for (uint16 i = 0; i < mintpassIdsToBurn.length; i++) {
	```

</details>



